{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ariel\\\\walky-loving-dogs\\\\frontend\\\\src\\\\pages\\\\Login.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Login.jsx\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n  const [perfil, setPerfil] = useState('admin'); // padrão inicial\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    const emailLimpo = email.trim().toLowerCase();\n    const senhaLimpa = senha.trim();\n    if (perfil === 'dono') {\n      // Login REAL via backend para Dono\n      try {\n        const resposta = await fetch('http://localhost:5000/api/donos/login', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: emailLimpo,\n            senha: senhaLimpa\n          })\n        });\n        if (!resposta.ok) {\n          alert('Credenciais inválidas!');\n          return;\n        }\n        const usuario = await resposta.json();\n        localStorage.setItem('usuario', JSON.stringify(usuario));\n        window.location.href = '/cliente';\n      } catch (error) {\n        console.error('Erro ao fazer login:', error);\n        alert('Erro ao conectar com o servidor.');\n      }\n    } else if (perfil === 'admin') {\n      // Login FAKE para admin\n      if (emailLimpo === 'admin@walky.com' && senhaLimpa === '123456') {\n        const usuario = {\n          nome: 'Admin',\n          email: emailLimpo,\n          perfil: 'admin'\n        };\n        localStorage.setItem('usuario', JSON.stringify(usuario));\n        window.location.href = '/';\n      } else {\n        alert('Credenciais inválidas!');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login Walky\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Tipo de Acesso:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: perfil,\n          onChange: e => setPerfil(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Painel Administrativo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"dono\",\n            children: \"Painel do Dono (Cliente)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Senha:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"password\",\n          value: senha,\n          onChange: e => setSenha(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"submit\",\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"n5rCZE1waw3uPXPELoPm/w3lBXg=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Login","_s","email","setEmail","senha","setSenha","perfil","setPerfil","handleLogin","e","preventDefault","emailLimpo","trim","toLowerCase","senhaLimpa","resposta","fetch","method","headers","body","JSON","stringify","ok","alert","usuario","json","localStorage","setItem","window","location","href","error","console","nome","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","type","required","_c","$RefreshReg$"],"sources":["C:/Users/Ariel/walky-loving-dogs/frontend/src/pages/Login.jsx"],"sourcesContent":["// src/pages/Login.jsx\r\nimport React, { useState } from 'react';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [senha, setSenha] = useState('');\r\n  const [perfil, setPerfil] = useState('admin'); // padrão inicial\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const emailLimpo = email.trim().toLowerCase();\r\n    const senhaLimpa = senha.trim();\r\n\r\n    if (perfil === 'dono') {\r\n      // Login REAL via backend para Dono\r\n      try {\r\n        const resposta = await fetch('http://localhost:5000/api/donos/login', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ email: emailLimpo, senha: senhaLimpa }),\r\n        });\r\n\r\n        if (!resposta.ok) {\r\n          alert('Credenciais inválidas!');\r\n          return;\r\n        }\r\n\r\n        const usuario = await resposta.json();\r\n        localStorage.setItem('usuario', JSON.stringify(usuario));\r\n        window.location.href = '/cliente';\r\n      } catch (error) {\r\n        console.error('Erro ao fazer login:', error);\r\n        alert('Erro ao conectar com o servidor.');\r\n      }\r\n\r\n    } else if (perfil === 'admin') {\r\n      // Login FAKE para admin\r\n      if (emailLimpo === 'admin@walky.com' && senhaLimpa === '123456') {\r\n        const usuario = { nome: 'Admin', email: emailLimpo, perfil: 'admin' };\r\n        localStorage.setItem('usuario', JSON.stringify(usuario));\r\n        window.location.href = '/';\r\n      } else {\r\n        alert('Credenciais inválidas!');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h2>Login Walky</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <div className=\"mb-3\">\r\n          <label>Tipo de Acesso:</label>\r\n          <select className=\"form-control\" value={perfil} onChange={(e) => setPerfil(e.target.value)}>\r\n            <option value=\"admin\">Painel Administrativo</option>\r\n            <option value=\"dono\">Painel do Dono (Cliente)</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label>Email:</label>\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label>Senha:</label>\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"password\"\r\n            value={senha}\r\n            onChange={(e) => setSenha(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <button className=\"btn btn-primary\" type=\"submit\">Entrar</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}