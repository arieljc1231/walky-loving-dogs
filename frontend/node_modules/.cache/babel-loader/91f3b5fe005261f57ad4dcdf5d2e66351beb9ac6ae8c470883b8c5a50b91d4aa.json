{"ast":null,"code":"// src/pages/Dono/DonoDetails.jsx\nimport React,{useEffect,useState}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DonoDetails(){const{id}=useParams();const navigate=useNavigate();const[dono,setDono]=useState(null);const[pets,setPets]=useState([]);useEffect(()=>{// busca dono\napi.get(`/donos/${id}`).then(response=>setDono(response.data)).catch(error=>{console.error('Erro ao buscar dono:',error);navigate('/donos');});// busca todos os pets e filtra apenas os do dono\napi.get('/pets').then(response=>{const allPets=response.data;const myPets=allPets.filter(pet=>String(pet.dono)===id);setPets(myPets);}).catch(error=>console.error('Erro ao buscar pets do dono:',error));},[id,navigate]);const handleDelete=async()=>{if(window.confirm('Tem certeza que deseja excluir este dono?')){await api.delete(`/donos/${id}`);navigate('/donos');}};if(!dono)return/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded shadow-sm bg-white mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detalhes do Dono\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"btn btn-secondary me-2\",children:\"\\u2190 Voltar ao In\\xEDcio\"}),/*#__PURE__*/_jsx(Link,{to:\"/donos\",className:\"btn btn-dark\",children:\"Ver Donos\"})]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group mb-3\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nome:\"}),\" \",dono.nome]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"CPF:\"}),\" \",dono.cpf]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Endere\\xE7o:\"}),\" \",dono.endereco]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Telefone:\"}),\" \",dono.telefone]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",dono.email]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data de Nascimento:\"}),\" \",new Date(dono.dataNascimento).toLocaleDateString('pt-BR')]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Respons\\xE1vel:\"}),\" \",dono.responsavel?'Sim':'Não']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ativo:\"}),\" \",dono.ativo?'Sim':'Não']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Observa\\xE7\\xF5es:\"}),\" \",dono.observacoes||'—']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data de Cadastro:\"}),\" \",new Date(dono.dataCadastro).toLocaleDateString('pt-BR')]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning me-2\",onClick:()=>navigate(`/donos/${id}/editar`),children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDelete,children:\"Excluir\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded shadow-sm bg-white\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Pets cadastrados\"}),pets.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum pet cadastrado para este dono.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:pets.map(pet=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:pet.nome}),\" \\u2014 \",pet.especie,\", \",pet.raca]}),/*#__PURE__*/_jsx(Link,{to:`/pets/${pet._id}`,className:\"btn btn-sm btn-outline-primary\",children:\"Ver Detalhes\"})]},pet._id))})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","useNavigate","api","jsx","_jsx","jsxs","_jsxs","DonoDetails","id","navigate","dono","setDono","pets","setPets","get","then","response","data","catch","error","console","allPets","myPets","filter","pet","String","handleDelete","window","confirm","delete","children","className","to","nome","cpf","endereco","telefone","email","Date","dataNascimento","toLocaleDateString","responsavel","ativo","observacoes","dataCadastro","onClick","length","map","especie","raca","_id"],"sources":["C:/Users/Ariel/PF2 - Walky-Loving-Dogs/frontend/src/pages/Dono/DonoDetails.jsx"],"sourcesContent":["// src/pages/Dono/DonoDetails.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport api from '../../services/api';\r\n\r\nexport default function DonoDetails() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [dono, setDono] = useState(null);\r\n  const [pets, setPets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // busca dono\r\n    api.get(`/donos/${id}`)\r\n      .then(response => setDono(response.data))\r\n      .catch(error => {\r\n        console.error('Erro ao buscar dono:', error);\r\n        navigate('/donos');\r\n      });\r\n\r\n    // busca todos os pets e filtra apenas os do dono\r\n    api.get('/pets')\r\n      .then(response => {\r\n        const allPets = response.data;\r\n        const myPets = allPets.filter(pet => String(pet.dono) === id);\r\n        setPets(myPets);\r\n      })\r\n      .catch(error => console.error('Erro ao buscar pets do dono:', error));\r\n  }, [id, navigate]);\r\n\r\n  const handleDelete = async () => {\r\n    if (window.confirm('Tem certeza que deseja excluir este dono?')) {\r\n      await api.delete(`/donos/${id}`);\r\n      navigate('/donos');\r\n    }\r\n  };\r\n\r\n  if (!dono) return <p>Carregando...</p>;\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <div className=\"p-4 border rounded shadow-sm bg-white mb-4\">\r\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n          <h2>Detalhes do Dono</h2>\r\n          <div>\r\n            <Link to=\"/home\" className=\"btn btn-secondary me-2\">← Voltar ao Início</Link>\r\n            <Link to=\"/donos\" className=\"btn btn-dark\">Ver Donos</Link>\r\n          </div>\r\n        </div>\r\n\r\n        <ul className=\"list-group mb-3\">\r\n          <li className=\"list-group-item\"><strong>Nome:</strong> {dono.nome}</li>\r\n          <li className=\"list-group-item\"><strong>CPF:</strong> {dono.cpf}</li>\r\n          <li className=\"list-group-item\"><strong>Endereço:</strong> {dono.endereco}</li>\r\n          <li className=\"list-group-item\"><strong>Telefone:</strong> {dono.telefone}</li>\r\n          <li className=\"list-group-item\"><strong>Email:</strong> {dono.email}</li>\r\n          <li className=\"list-group-item\">\r\n            <strong>Data de Nascimento:</strong> {new Date(dono.dataNascimento).toLocaleDateString('pt-BR')}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <strong>Responsável:</strong> {dono.responsavel ? 'Sim' : 'Não'}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <strong>Ativo:</strong> {dono.ativo ? 'Sim' : 'Não'}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <strong>Observações:</strong> {dono.observacoes || '—'}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <strong>Data de Cadastro:</strong> {new Date(dono.dataCadastro).toLocaleDateString('pt-BR')}\r\n          </li>\r\n        </ul>\r\n\r\n        <button\r\n          className=\"btn btn-warning me-2\"\r\n          onClick={() => navigate(`/donos/${id}/editar`)}\r\n        >\r\n          Editar\r\n        </button>\r\n        <button className=\"btn btn-danger\" onClick={handleDelete}>\r\n          Excluir\r\n        </button>\r\n      </div>\r\n\r\n      {/* Lista de Pets do dono */}\r\n      <div className=\"p-4 border rounded shadow-sm bg-white\">\r\n        <h4 className=\"mb-3\">Pets cadastrados</h4>\r\n        {pets.length === 0 ? (\r\n          <p>Nenhum pet cadastrado para este dono.</p>\r\n        ) : (\r\n          <ul className=\"list-group\">\r\n            {pets.map(pet => (\r\n              <li\r\n                key={pet._id}\r\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n              >\r\n                <div>\r\n                  <strong>{pet.nome}</strong> — {pet.especie}, {pet.raca}\r\n                </div>\r\n                <Link to={`/pets/${pet._id}`} className=\"btn btn-sm btn-outline-primary\">\r\n                  Ver Detalhes\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}